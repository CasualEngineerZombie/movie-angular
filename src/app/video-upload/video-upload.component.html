<div class="container mx-auto p-4">
    <div class="max-w-2xl mx-auto">
      <h1 class="text-3xl font-bold mb-6">Upload Video</h1>
      
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <form (submit)="uploadVideo(); $event.preventDefault()">
            <!-- Title Input -->
            <div class="form-control mb-4">
              <label class="label">
                <span class="label-text">Title</span>
              </label>
              <input 
                type="text" 
                class="input input-bordered" 
                [ngModel]="title()" 
                (ngModelChange)="title.set($event)" 
                placeholder="Enter video title"
                required
                name="title"
              />
            </div>
            
            <!-- Description Input -->
            <div class="form-control mb-4">
              <label class="label">
                <span class="label-text">Description</span>
              </label>
              <textarea 
                class="textarea textarea-bordered h-24" 
                [ngModel]="description()" 
                (ngModelChange)="description.set($event)" 
                placeholder="Enter video description"
                name="description"
              ></textarea>
            </div>
            
            <!-- File Input -->
            <div class="form-control mb-4">
              <label class="label">
                <span class="label-text">Video File</span>
              </label>
              <input 
                type="file" 
                class="file-input file-input-bordered w-full" 
                (change)="onFileSelected($event)"
                accept="video/*"
                required
                name="video_file"
              />
            </div>
            
            <!-- Video Preview -->
            <div class="mb-4" *ngIf="previewUrl">
              <label class="label">
                <span class="label-text">Preview</span>
              </label>
              <video 
                [src]="previewUrl" 
                controls 
                class="w-full rounded-lg"
              >
                Your browser does not support the video tag.
              </video>
            </div>
            
            <!-- Upload Progress -->
            <div class="mb-4" *ngIf="isUploading()">
              <progress 
                class="progress progress-primary w-full" 
                [value]="uploadProgress()" 
                max="100"
              ></progress>
              <p class="text-center mt-2">{{ uploadProgress() }}% Uploaded</p>
            </div>
            
            <!-- Submit Button -->
            <button 
              type="submit" 
              class="btn btn-primary w-full" 
              [disabled]="isUploading()"
            >
              <span *ngIf="isUploading()" class="loading loading-spinner loading-sm"></span>
              {{ isUploading() ? 'Uploading...' : 'Upload Video' }}
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>